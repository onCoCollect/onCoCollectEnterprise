<%@ Page Language="C#" AutoEventWireup="True" MasterPageFile="~/MasterPage/Site.Master" CodeBehind="StatCodeTemplate.aspx.cs" Inherits="ePxCollectWeb.StatCodeTemplate" %>
<%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="ajax" %>
    <asp:Content ID="Content3" ContentPlaceHolderID="MainContent" runat="server">
       
   <style type="text/css">
  .radioButtonList td
{
    vertical-align: top;
    text-indent:3px;
    display :-ms-inline-flexbox;
    text-orientation:sideways-right;
}
.radioButtonList input[type="radio"]
{
    float: left;
}
.radioButtonList label
{
    width: 50px;
    display: block;
}
</style>
 
        <script type="text/javascript"> 
            function blockSpecialChar(event)
            {
                var field = document.getElementById("<%=txtTemplateName.ClientID%>");
                var val = field.value.replace(/^[\s!@#$%^&*()0-9]+|\s+$/, '');

                if (val.length == 0) {
                    document.getElementById("<%=txtTemplateName.ClientID%>").value = "";
                }
                 //var k;
                 //document.all ? k = e.keyCode : k = event.which;
                 //if (k == 32)
                 //{
                 //  return false;
                 //}
                 //return ((k > 64 && k < 91) || (k > 96 && k < 123) || k == 8 || k == 32 || (k >= 48 && k <= 57));
            }
            function isNumberKey(evt) {

                var k;
                document.all ? k = e.keyCode : k = event.which;

                var charCode = (evt.which) ? evt.which : evt.keyCode;
                if ((k > 64 && k < 91) || (k > 96 && k < 123) || k == 8 || k == 32 || (k >= 48 && k <= 57)  || k > 31 && (k < 48 || k > 57))
                    return false;
                // (charCode >= 48 && charCode <= 53) || (charCode >= 65 && charCode <= 69) || (charCode >= 97 && charCode <= 101)
                return true;
            }
    </script>
<%--<asp:UpdatePanel ID="UpdatePanel1" runat="server" UpdateMode="Conditional">
            <ContentTemplate>

                <asp:Panel ID="Panel2" runat="server" CssClass="modalPopup" Style="display: none" Width="150px">
                    <asp:Panel ID="Panel4" runat="server">
                    <asp:CheckBoxList ID="CheckBoxList1" runat="server">
                    </asp:CheckBoxList>
</asp:Panel>
                    <div>
                       

                        <asp:Button ID="btnSubmiItem" runat="server" Text="Ok" CssClass="button" Height="25px" Width="75px" OnClick="btnSubmiItem_Click" />
                        <asp:Button ID="Button4" runat="server" Text="Close" CssClass="button" Height="25px" Width="75px" OnClick="Button2_Click" />

                        <asp:Button ID="Button5" runat="server" Text="Cancel" />
                    
                    </div>

                </asp:Panel>



            </ContentTemplate>
        
        </asp:UpdatePanel>--%>
        
             <asp:UpdatePanel runat="server"><ContentTemplate>
                  <ajax:ModalPopupExtender ID="FieldValues" runat="server" TargetControlID="Hidden1"
                    PopupControlID="pnlConfirm" BackgroundCssClass="overlay_back"
                    DropShadow="false" 
                    CancelControlID="btnCancel"
                 >
                </ajax:ModalPopupExtender>
               <%--   <ajax:ModalPopupExtender ID="ModalPopupExtender1" TargetControlID="Hidden1" PopupControlID="pnlConfirm"
                CancelControlID="btnNo" BackgroundCssClass="overlay_back" DropShadow="false"
                runat="server">
            </ajax:ModalPopupExtender>
              OkControlID="btnOk"   --%>
         <%--<ajax:ModalPopupExtender ID="ModalPopupExtender1" TargetControlID="Hidden1" PopupControlID="pnlConfirm"
                CancelControlID="btnNo" BackgroundCssClass="overlay_back" DropShadow="false"
                runat="server">
            </ajax:ModalPopupExtender>--%>
         <asp:Panel  runat="server" ID="pnlMain">
             
       <table width="600px" style="margin-left:50px;"><%--<tr ><td>--%>
    <%--<div>
   
           <table width ="600px;">--%>
           <tr>
               <td>
                   <fieldset>
                       <legend><h3 style="color: #006699;">Manage Template</h3></legend>
                       <table width="600px">
                         
               <tr style="margin: 0px; padding: 0px;">
                   <td align="right"  style="margin: 0px; padding: 0px;"></td>
                   <td style="display:inline;margin: 0px; padding: 0px;">
                       <asp:RadioButtonList ID="rbList" CssClass="radioButtonList"   RepeatColumns = "2" RepeatLayout="Table" TextAlign="Right" runat="server" AutoPostBack="true" RepeatDirection="Horizontal" OnSelectedIndexChanged="rbList_SelectedIndexChanged" Height="16px" Width="300px">
                           <asp:ListItem Text="Create" Value="1" Selected="True"></asp:ListItem>
                           <asp:ListItem Text="Edit" Value="2"></asp:ListItem>
                       </asp:RadioButtonList>
                   </td>

               </tr>
               <tr style="margin: 0px; padding: 0px;">
                   <td style="width:150px;" align="right"><span style="color:red;text-align:right;">*</span></td>
                   <td style="margin: 0px; padding: 0px;">
                       
                       <asp:DropDownList ID="ddlTemplateNames" runat="server"   AutoPostBack="True" CssClass="dllCss" OnSelectedIndexChanged="ddlTemplateNames_SelectedIndexChanged" >
                           <asp:ListItem Text="" Value="0" >

                           </asp:ListItem>
                       </asp:DropDownList>&nbsp<asp:Button ID="btnDelete" runat="server" Height="25px" Text="Delete" OnClick="btnDelete_Click" CssClass="button" />
                   </td>
                   <td>
                       
                   </td>
               </tr>
               <tr style="margin: 0px; padding: 0px;">
                   <td style="width:150px;text-align:right;margin-right:0px;padding-right:0px;">
                      <span style="color:red;text-align:right;">*</span> <asp:Label ID="lblTemplateName" runat="server" Text="Template Name :" Font-Names="Verdana" Font-Size="8pt"></asp:Label></td>
                   <td align="left" style="margin: 0px; padding: 0px;">
                       <asp:TextBox ID="txtTemplateName" runat="server" CssClass="dynamictext" onkeypress="return blockSpecialChar(event)" Font-Size="8pt"></asp:TextBox></td>
               </tr>
               <tr style="margin: 0px; padding: 0px;">
                   <td style="width:150px;text-align:right;margin-right:0px;padding-right:0px;" >
                      <span style="color:red;text-align:right;">*</span> <asp:Label ID="lblDesc" runat="server" Text="Description :" Font-Names="Verdana" Font-Size="8pt"></asp:Label></td>
                   <td style="margin: 0px; padding: 0px;">
                       <asp:TextBox ID="txtDesc" runat="server" TextMode="MultiLine" Height="77px" Width="200px" CssClass="dynamictext" Font-Size="8pt"></asp:TextBox></td>
               </tr>
               <tr style="margin: 0px; padding: 0px;">
                   <td align="right" style="width:150px;margin: 0px; padding: 0px;"></td>
                   <td style="margin: 0px; padding: 0px;">
                       <asp:Button ID="btnsave" runat="server" Text="Save" OnClick="btnsave_Click" CssClass="button" />
                       <asp:Button ID="btnReset" runat="server" Text="Reset" OnClick="btnReset_Click" CssClass="button"/></td>
               </tr>
                       </table>
                   </fieldset>
                   

               </td>
               <td valign="top"><div style="margin-top:10px;"><asp:Button ID="btnClose" runat="server" Text="Close"  CssClass="button" OnClick="btnClose_Click"  /></div> </td>
           </tr>
           
          
       <tr><td>
           <fieldset>
               <legend> <h3 style="color: #006699;">Create Stat Code </h3></legend>
               <table width="600px" style="margin-left:10px;">
                    <tr>
                        <td align="right" style="width:150px;margin: 0px; padding: 0px;">
                        <span style="color:red;text-align:right;">*</span>    <asp:Label ID="lblTemplate" runat="server" Text="Select Template :" Font-Names="Verdana" Font-Size="8pt"></asp:Label>
                        </td>
                        <td style="margin: 0px; padding: 0px;">
                            <asp:DropDownList ID="ddlSelectTemplate" runat="server"  CssClass="dllCss" Font-Size="8pt"></asp:DropDownList>
                        </td>

                    </tr>
                    <tr style="margin: 0px; padding: 0px;">
                        <td align="right" style="width:150px;margin: 0px; padding: 0px;">
                          <span style="color:red;text-align:right;">*</span>  <asp:Label ID="lblField" runat="server" Text="Select Field :" Font-Names="Verdana" Font-Size="8pt"></asp:Label></td>
                        <td style="margin: 0px; padding: 0px;">
                            <asp:DropDownList ID="ddlField" runat="server"    CssClass="dllCss" OnSelectedIndexChanged="ddlField_SelectedIndexChanged" AutoPostBack="True" Font-Size="8pt"></asp:DropDownList> </td>
                    </tr>
                    <tr style="margin: 0px; padding: 0px;">
                        <td align="right" style="width:150px;margin: 0px; padding: 0px;">
                          <span style="color:red;text-align:right;">*</span>  <asp:Label ID="lblValue" runat="server" Text="Value :" Font-Names="Verdana" Font-Size="8pt"></asp:Label></td>
                        <td style="margin: 0px; padding: 0px;">
                            
                            <asp:TextBox ID="txtValue" runat="server"  CssClass="dynamictext" onkeypress="return isNumberKey(event)" Font-Size="8pt"></asp:TextBox> 
                              <asp:Button ID="btnShow" runat="server" Text="Show Values" Width="100px" CssClass="button" OnClick="btnShow_Click" />
                        
                        </td>
                    </tr>
                      <tr style="margin: 0px; padding: 0px;">
                        <td align="right" style="width:150px;margin: 0px; padding: 0px;">
                           <span style="color:red;text-align:right;">*</span> <asp:Label ID="lblGroupName" runat="server" Text="Group Name :" Font-Names="Verdana" Font-Size="8pt"></asp:Label></td>
                        <td style="margin: 0px; padding: 0px;">
                            <asp:TextBox ID="txtGroupName" runat="server" CssClass="dynamictext" Font-Size="8pt"></asp:TextBox></td>
                    </tr>
                     <tr>
            <td align="right" style="width:150px;margin: 0px; padding: 0px;">
               </td>
            <td style="margin: 0px; padding: 0px;">
             <asp:Button ID="btnstatSave" runat="server" Text="Save" OnClick="btnstatSave_Click" CssClass="button" />
                 <asp:Button ID="btnstatReset" runat="server" Text="Reset" OnClick="btnstatReset_Click" CssClass="button" />&nbsp;</td>
        </tr>

               </table>
           </fieldset>



           </td></tr>
         <%--  </table>--%>

     <%--      
       </fieldset>--%>
<%--    </div>
</td></tr>
           <tr><td>
    <div>
           
                <table  width="500px">--%>

                   
                     
                    


                </table>
             <table width="800px;">
                    <tr style="margin: 0px; padding: 0px;">
                            <td align="left" style="width:600px;margin-left:50px;margin: 0px; padding: 0px;">
                                &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<asp:Label ID="Label1" runat="server" Text="Template :" Font-Names="Verdana" Font-Size="8pt"></asp:Label> &nbsp   <asp:DropDownList ID="ddlStatGroupName" runat="server" AutoPostBack="true" CssClass="dllCss" OnSelectedIndexChanged="ddlStatGroupName_SelectedIndexChanged" Font-Size="8pt" >
                                </asp:DropDownList>                 <asp:Button ID="btnHide" runat="server" Text="Hide"  CssClass="button" OnClick="btnHide_Click" />
                            </td>
                            <td>
                              
                            </td>
                        </tr>
             </table>

     <%--   
        </div>
               </td></tr>
</table>--%>

        <div>
          
  
                 <%--<ajax:ModalPopupExtender ID="ModalPopupExtender2" runat="server" PopupControlID="pnlPopup" TargetControlID="btnShow"
                    OkControlID="Button1" CancelControlID="Button2" BackgroundCssClass="modalBackground">
                </ajax:ModalPopupExtender>--%>
             
                      <%--<asp:Panel ID="pnlPopup" runat="server" CssClass="modalPopup" Style="display: none">
                 <asp:UpdatePanel ID="udpInnerUpdatePanel" runat="Server" UpdateMode="Conditional">
        <ContentTemplate>
                                <div class="header">
                                    Confirmation

                                </div>

                                <div class="body">
                                    HIdsfa;sdkf
                                    asdfasdfadsfadsf
                                
                                  

                                </div>
                          <div class="footer" align="right">
                        

                                    <asp:Button ID="Button2" runat="server" Text="Close" CssClass="no" />

                                </div>
                       
                       </ContentTemplate>
                     </asp:UpdatePanel>
               </asp:Panel>--%>
              
               
                     

               
         
          
               <%-- <ajax:ModalPopupExtender ID="ModalPopupExtender1" runat="server" PopupControlID="pnlPopup" TargetControlID="btnShow"
                    OkControlID="btnSubmiItem" CancelControlID="btnClose" BackgroundCssClass="modalBackground">
                </ajax:ModalPopupExtender>



                <asp:Panel ID="pnlPopup" runat="server" CssClass="modalPopup" Style="display: none">
                 
                                <div class="header">
                                    Confirmation

                                </div>

                                <div class="body">

                                    <asp:CheckBoxList ID="chkList" runat="server">
                                    </asp:CheckBoxList>

                                </div>
                       
             
                                <div class="footer" align="right">

                                    <asp:Button ID="btnSubmiItem" runat="server" Text="Submit" CssClass="yes" OnClick="btnSubmiItem_Click" />

                                    <asp:Button ID="btnClose" runat="server" Text="Close" CssClass="no" />

                                </div>
                       

                </asp:Panel>
--%> 
         <%--   <asp:Panel ID="Panel3" runat="server" BorderStyle="Solid" BorderWidth="1px" Height="400px"
                    Style="overflow: scroll;">
                                
                                
                
                  </asp:Panel>--%>


        </div>
       
             <div style="margin-left:50px;">
                 <asp:GridView ID="grdStatDetails" runat="server" CellPadding="4" ForeColor="#333333" GridLines="None" Width="600px" AutoGenerateColumns="False" OnRowDeleting="grdStatDetails_RowDeleting"  OnSelectedIndexChanging="grdStatDetails_SelectedIndexChanging">
                     <AlternatingRowStyle BackColor="White" />
                    
                     <EditRowStyle BackColor="#2461BF" />
                     <FooterStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
                     <HeaderStyle BackColor="#006699" Font-Bold="True" ForeColor="White"  HorizontalAlign="Left" Height="30px"/>
                     <PagerStyle BackColor="#2461BF" ForeColor="White" HorizontalAlign="Center" />
                     <RowStyle BackColor="#EFF3FB" />
                     <SelectedRowStyle BackColor="#D1DDF1" Font-Bold="false" ForeColor="#333333" />
                     <SortedAscendingCellStyle BackColor="#F5F7FB" />
                     <SortedAscendingHeaderStyle BackColor="#6D95E1" />
                     <SortedDescendingCellStyle BackColor="#E9EBEF" />
                     <SortedDescendingHeaderStyle BackColor="#4870BE" />
                      <Columns>
                           
                          <asp:BoundField HeaderText="STAT-ID" DataField="stat_ID" ItemStyle-CssClass="hideGridColumn"  HeaderStyle-CssClass="hideGridColumn" HeaderStyle-HorizontalAlign="Left"/>
                           <asp:BoundField HeaderText="MANG-TemplateID" DataField="mang_TemplateName" ItemStyle-CssClass="hideGridColumn"  HeaderStyle-CssClass="hideGridColumn" HeaderStyle-HorizontalAlign="Left" />
                           <asp:BoundField HeaderText="STAT-Template Name" DataField="stat_TemplateName" Visible="true"  ItemStyle-CssClass="hideGridColumn"  HeaderStyle-CssClass="hideGridColumn" HeaderStyle-HorizontalAlign="Left"/>
                           <asp:BoundField HeaderText="Field Name" DataField="stat_FieldName" Visible="true" ItemStyle-HorizontalAlign="Left" HeaderStyle-HorizontalAlign="Left"  >
                           <HeaderStyle HorizontalAlign="Left" />
                          <ItemStyle HorizontalAlign="Left" />
                          </asp:BoundField>
                           <asp:BoundField HeaderText="Field Value" DataField="stat_Value" ItemStyle-HorizontalAlign="Left" HeaderStyle-HorizontalAlign="Left" >
                          <HeaderStyle HorizontalAlign="Left" />
                          <ItemStyle HorizontalAlign="Left" />
                          </asp:BoundField>
                          <asp:BoundField HeaderText="Group Name" DataField="stat_GroupName" ItemStyle-HorizontalAlign="Left" HeaderStyle-HorizontalAlign="Left"  >
                          <HeaderStyle HorizontalAlign="Left" />
                          <ItemStyle HorizontalAlign="Left" />
                          </asp:BoundField>
                          <asp:BoundField HeaderText="MANG-TemplateID" DataField="mang_TemplateID" Visible="false" />

                         <asp:CommandField ShowSelectButton="True" SelectImageUrl="~/images/modify.png" ButtonType="Image" HeaderText="Edit" HeaderStyle-HorizontalAlign="Left" />
                         <asp:CommandField ShowDeleteButton="True" DeleteImageUrl="~/images/del.png" ButtonType="Image" HeaderText="Delete" HeaderStyle-HorizontalAlign="Left" />
                     </Columns>
                 </asp:GridView>
             </div>
</asp:Panel>
                 

                      <asp:HiddenField ID="Hidden1" runat="server" />
                 
                  </ContentTemplate></asp:UpdatePanel>

        <asp:UpdatePanel ID="showValues" runat="server" UpdateMode="Conditional">
            <ContentTemplate>
                <asp:Panel ID="pnlConfirm" runat="server" Height="325px" Width="300px" BackColor="white"  style="display:none"
                    BorderColor="gray" BorderStyle="Solid" BorderWidth="1">
                    <div style="width: 100%; background: #006699; height: 30px; color: black; font-family: Verdana;">
                        <span style="margin-left: 10px; margin-top: 20px;vertical-align:middle;color:white;">Field Values</span>
                    </div>
                    <asp:Panel ID="Panel5" runat="server" Height="250px" Width="300px" BackColor="white" ScrollBars="Auto"
                        BorderColor="Black">

                        <asp:CheckBoxList ID="chkList" runat="server" CssClass="chkBoxList" >
                        </asp:CheckBoxList>
                    </asp:Panel>
                    <div style="margin-left: 12px; margin-bottom: 3px; margin-top: 3px;">
                        <center>
                          <asp:Label ID="lblMessage" runat="server" Text="" Font-Names="Verdana" ForeColor="#FF3300"></asp:Label><br />
                        <asp:Button ID="btnOk" runat="server" Text="OK" OnClick="btnOk_Click" UseSubmitBehavior="false" CssClass="button" Width="65px" />

                        <asp:Button ID="btnCancel" runat="server" Text="Close" CssClass="button" Width="65px" OnClick="Button2_Click" />
                      
                        </center>

                    </div>


                </asp:Panel>



            </ContentTemplate>

        </asp:UpdatePanel>
        

 <%--<asp:UpdatePanel runat="server" ID="updConfirm" UpdateMode="Conditional">
        <ContentTemplate>
            <asp:Panel ID="pnlConfirm" runat="server" Height="325px" Width="300px" BackColor="white"
                BorderColor="Black" BorderStyle="Solid"  BorderWidth="1">
                <div style="width: 100%; background: #003366; height: 25px; color: White; ">
                    <b style="margin-top:2px;">Select Other Fields</b></div>
                    <asp:Panel ID="Panel5" runat="server" Height="250px" Width="300px" BackColor="white" ScrollBars="Auto"
                BorderColor="Black" >
                <%--table align="center" style="margin-top: 20px; color: Black;">
                    <tr>
                        <td colspan="2">--%><%--<asp:Label ID="lblConfirmText" runat="server" Text="Select Fields:"></asp:Label>--%>
                       
                       <%-- </td>
                    </tr>
                    <tr>
                        <td>--%>
                            
                       <%-- </td>
                        <td>--%>
                            
                       <%-- </td>
                    </tr>
                </table>--%>
              <%--  </asp:Panel>
                <div style=" margin-left:10px;margin-bottom:3px;margin-top:3px;" >
                <asp:Button ID="btnYes" runat="server" Text="OK" Width="65px" OnClick="btnOk_Click"  OnClientClick="return checkSelection()"
                                CssClass="button" /> &nbsp;&nbsp;
                            <asp:Button ID="btnNo" runat="server" Text="Close" Width="65px" CssClass="button" /><br />
                    <asp:Label ID="lblMessage" runat="server" Text="Label" Visible="False"  Font-Names="Verdana" ForeColor="#FF3300" ></asp:Label>
                    <br />
                </div>
            </asp:Panel>
        </ContentTemplate>
    </asp:UpdatePanel>--%>
        
        </asp:Content>

                

